(function(e){var t=0;e.fn.scrollPagination=function(t){var n=e.extend(e.fn.scrollPagination.defaults,t),r=n.scrollTarget;return r==null&&(r=obj),n.scrollTarget=r,this.each(function(){e.fn.scrollPagination.init(e(this),n)})},e.fn.stopScrollPagination=function(){return this.each(function(){e(this).attr("scrollPagination","disabled")})},e.fn.scrollPagination.loadContent=function(n,r){var i=r.scrollTarget,s=r.success,o=e(i).scrollTop()+r.heightOffset>=e(document).height()-e(i).height();if(o){r.beforeLoad!=null&&r.beforeLoad(),e(n).children().attr("rel","loaded");var u=r.contentData.pageSize,a=r.contentData.albumId;e.ajax({type:"POST",url:r.contentPage,data:{start:t,pageSize:u,albumId:a},success:function(e){s(e)},dataType:"json"}),t+=u}},e.fn.scrollPagination.init=function(t,n){var r=n.scrollTarget;e(t).attr("scrollPagination","enabled"),e(r).scroll(function(r){e(t).attr("scrollPagination")=="enabled"?e.fn.scrollPagination.loadContent(t,n):r.stopPropagation()}),e.fn.scrollPagination.loadContent(t,n)},e.fn.scrollPagination.defaults={contentPage:null,contentData:{},beforeLoad:null,afterLoad:null,scrollTarget:null,heightOffset:0,success:null}})(jQuery)